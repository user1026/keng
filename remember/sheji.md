# 设计模式

# MVC

## 组成

- Model（模型） - 模型代表一个存取数据的对象或 JAVA POJO。它也可以带有逻辑，在数据变化时更新控制器。
- View（视图） - 视图代表模型包含的数据的可视化。
- Controller（控制器） - 控制器作用于模型和视图上。它控制数据流向模型对象，并在数据变化时更新视图。它使视图与模型分离开。


## 应用中dao层，service层，controller层（个人理解）

>dao层

dao层主要做数据持久层的工作，负责与数据库进行联络的一些任务都封装在此，在模块中调用此接口来进行数据业务的处理，而不用关心此接口的具体实现类是哪个类<br>


Dao接口中的方法都大同小异，因为对数据库的基本操作类似：insert、delete、update，select。 在Dao层定义的一些方法，在Service层并没有被使用的情况：Dao层的操作经过抽象后基本都是通用的，在Dao层完成相关方法的定义，有利于支持后期Service层的扩展。（与相应的mapper对应）

>service层

service层主要负责业务模块的应用逻辑应用设计<br>

这样我们就可以在应用中调用service接口来进行业务处理。service层的业务层具体要调用已经定义的dao层接口，封装service层业务逻辑有利于通用的业务逻辑的独立性和重复利用性。程序显得非常简洁。

>controller层

controller层负责具体的业务模块流程的控制。在此层要调用service层的接口来控制业务流程。负责url映射（action）。针对具体的业务流程，会有不同的控制器。我们具体的设计过程可以将流程进行抽象归纳，设计出可以重复利用的子单元流程模块。这样不仅使程序结构变得清晰，也大大减少了代码量。

>三者之间的关系

dao层用来与数据库交互，并向service提供数据操作的接口，service层在dao层之上，负责单模块的业务处理并调用调用dao层接口进行数据处理，比方说：用户模块的查询，修改之类。controller层在service之上，调用service层的接口进行流程控制，比方说：一个用户购买了一件商品，那么controller层就要调用销售模块让库存减一，调用物流模块进行发货等